
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="BulldogX&#39;s Notes">
    <title>ReactNative与Android的交互 - BulldogX&#39;s Notes</title>
    <meta name="author" content="BulldogX">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"BulldogX","sameAs":[],"image":"/Avatar_icefrog.jpg"},"articleBody":"\n1 RN调用Native方法\n1、创建交互类Module，继承ReactContextBaseJavaModule；\n2、创建package，实现ReactPackage的方法，添加步骤1创建的交互类Module到package内；\n3、添加创建的自定义package到ReactNativeHost中的getPackages方法中，向ReactNative注册原生模块；\n\n\n1.1 导出Native端的showInfo提示方法Native端导出\n123456789101112131415161718192021public class RNInterractModule extends ReactContextBaseJavaModule &#123;    private ReactContext mReactContext;    public RNInterractModule(ReactApplicationContext reactContext) &#123;        super(reactContext);        this.mReactContext = reactContext;    &#125;//导出的模块名字    @Override     public String getName() &#123;        return \"RNInterractModule\";    &#125;        //==============1、提示==============    @ReactMethod    public void showInfo(String info)&#123;        Toast.makeText(getReactApplicationContext(),info,Toast.LENGTH_SHORT).show();    &#125;&#125;\n添加Module到自定义package：\n12345678910111213public class RNInterractPackage implements ReactPackage&#123;    @Override    public List&lt;NativeModule&gt; createNativeModules(ReactApplicationContext reactContext) &#123;        List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();        modules.add(new RNInterractModule(reactContext));        return modules;    &#125;    @Override    public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) &#123;        return Collections.emptyList();    &#125;&#125;\n再添加package（此处展示完整的MainApplication方法，重写getPackages()方法中添加）\n12345678910111213141516171819202122232425262728public class MainApplication extends Application implements ReactApplication&#123;    @Override    public ReactNativeHost getReactNativeHost() &#123;        return reactNativeHost;    &#125;    private ReactNativeHost reactNativeHost = new ReactNativeHost(this) &#123;        @Override        public boolean getUseDeveloperSupport() &#123;            return true;        &#125;        @Override        protected List&lt;ReactPackage&gt; getPackages() &#123;            return Arrays.&lt;ReactPackage&gt;asList(                    new MainReactPackage(),                    new RNInterractPackage()            );        &#125;        @Override        protected String getJSMainModuleName() &#123;            return \"index\";        &#125;    &#125;;&#125;\n1.2 RN端调用导出的showInfo方法：我们在RN端把Native的方法通过一个共同的utils工具类引入，如下\n12345import &#123; NativeModules &#125; from 'react-native';//导出Native端的方法export const &#123; showInfo&#125; = NativeModules.RNInterractModule;\n具体的RN页面使用时：\n1234567import &#123; showInfo &#125; from \"../utils\";//通过Button点击事件触发&lt;Button\ttitle='1、调用Native提示'\tonPress=&#123;() =&gt; showInfo('我是原生端的提示！')&#125;/&gt;\n调用效果：\n\n1.3 RN回调Native我们提供一个例子来模拟：目前的需求是做面包，RN端能提供面粉，但是不会做，Native端是有做面包的功能；所以我们需要先把面粉，传给Native端，Native加工好面包之后，再通过回调回传给RN端。\nNative端提供方法\n12345678910111213141516171819202122// 比如调用原生的方法处理图片、视频之类的，处理完成之后再把结果回传到RN页面里去//TODO: 请务必注意 callback 并非在对应的原生函数返回后立即被执行——注意跨语言通讯是异步的，这个执行过程会通过消息循环来进行。@ReactMethodpublic void patCake(String flour, Callback successCallback,Callback errorCallback)&#123;    try&#123;        //模拟异常，走reject        if (!flour.getClass().equals(String.class))&#123;            throw new Exception(\"出错了，参数类型不匹配\");        &#125;        successCallback.invoke(patCakeUse(flour));    &#125;catch (Exception e)&#123;        errorCallback.invoke(e.getMessage());    &#125;&#125;//使用RN端传递的参数字符串：\"\"，调用Native端的做面包方法，加工成面包，再回传给RNprivate String patCakeUse(String flour)&#123;    String cake = String.format(\"使用%s，做好了:\\uD83C\\uDF82\\uD83C\\uDF5E\\uD83C\\uDF5E\\uD83C\\uDF70\\uD83C\\uDF70\\uD83C\\uDF70\",flour);    return cake;&#125;\nRN端调用：\n1234567891011//首先工具类里先引入export const &#123; showInfo,patCake &#125; = NativeModules.RNInterractModule;//具体页面使用&lt;Button\ttitle='4、回调：使用面粉做蛋糕'\tonPress=&#123;() =&gt; patCake('1斤面粉',\t\t(cake) =&gt; alert(cake),\t\t(error) =&gt; alert('出错了' + error.message))&#125;\t/&gt;\n调用效果：\n\n1.4 使用Promise回调Native端提供方法\n1234567891011121314151617@ReactMethod    public void callNameTointroduction(String name, Promise promise)&#123;        try&#123;            //模拟异常，走reject            if (!name.getClass().equals(String.class))&#123;                throw new Exception(\"出错了，参数类型不匹配\");            &#125;            promise.resolve(introduction(name));        &#125;catch (Exception e)&#123;            promise.reject(e);        &#125;    &#125;    private String introduction(String name)&#123;      return String.format(\"我的名字叫%s，今年18岁，喜欢运动、听歌...\",name);    &#125;\nRN端调用：\n1234567891011121314151617//首先工具类里先引入export const &#123; showInfo,patCake, callNameTointroduction&#125; = NativeModules.RNInterractModule;//具体页面使用&lt;Button\ttitle='5、Promise：点名自我介绍'\tonPress=&#123;\t\tasync () =&gt; &#123;\t\t\ttry &#123;\t\t\t\tlet introduction = await callNameTointroduction('小明');\t\t\t\tshowInfo(introduction);\t\t\t&#125; catch (e) &#123;\t\t\t\talert(e.message);\t\t\t&#125;\t\t&#125;\t&#125;/&gt;\n调用效果：\n\n2 Native发送通知到RN实现自定义的发送RN消息类RNNotificationManager\n123456789public class RNNotificationManager &#123;    //定义上下文    public static  ReactContext mContext;    //发送事件到RN端    public static void sendRNEvent(String eventName, @Nullable WritableMap params)&#123;        mContext.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class).emit(eventName,params);    &#125;&#125;\n我们使用静态成员变量、方法，mContext在自定义的RNInterractModule为其赋值：\n1234567891011public class RNInterractModule extends ReactContextBaseJavaModule &#123;    private ReactContext mReactContext;    public RNInterractModule(ReactApplicationContext reactContext) &#123;        super(reactContext);        this.mReactContext = reactContext;        //赋值        RNNotificationManager.mContext = reactContext;    &#125;&#125;\n然后就可以在需要给RN发送消息的地方调用：\n12345678button.setOnClickListener(new View.OnClickListener() &#123;            @Override            public void onClick(View view) &#123;                WritableMap params = Arguments.createMap();                params.putString(\"message\",\"登录成功\");                RNNotificationManager.sendRNEvent(\"kRNNotification_Login\",params);            &#125;        &#125;);\nRN端接收消息：\n123456789//添加监听componentWillMount() &#123;\t\tthis.subscription = DeviceEventEmitter.addListener('kRNNotification_Login',this.updateLoginInfoText)&#125;//移除监听componentWillUnmount() &#123;\tconsole.log('ActivityScene---------&gt;', '移除通知');\tthis.subscription.remove();&#125;\n调用展示：\n\n3 Native向RN自定义传参\n在继承ReactActivity的RN入口Activity中，自定义CustomDelegate（继承ReactActivityDelegate）；\n然后重写CustomDelegate的getLaunchOptions()方法，此处的Bundle即为要传递的参数Bundle；\n再重写RN入口Activity的createReactActivityDelegate()方法，返回CustomDelegate实例；\nRN端参数接收通过入口页面的this.props获取，具体可参考demo\n\n示例：\n12345678910111213141516171819202122232425262728293031323334353637383940public class ReactNativeActivity extends ReactActivity &#123;    private String strData;    @Override    protected void onCreate(Bundle savedInstanceState) &#123;        Intent intent = getIntent();        if (intent != null)&#123;            strData = intent.getStringExtra(\"msgKey\");        &#125;        super.onCreate(savedInstanceState);    &#125;    @Nullable    @Override    protected String getMainComponentName() &#123;        return \"RNTest\";    &#125;    @Override    protected ReactActivityDelegate createReactActivityDelegate() &#123;        return new CustomDelegate(this,getMainComponentName());    &#125;    //自定义ReactDelegate    class CustomDelegate extends ReactActivityDelegate &#123;        private CustomDelegate(Activity activity, @Nullable String mainComponentName) &#123;            super(activity, mainComponentName);        &#125;        @Nullable        @Override        protected Bundle getLaunchOptions() &#123;            Bundle bundle = new Bundle();            bundle.putString(\"msg\",strData);            return bundle;        &#125;    &#125;&#125;\n4 完整Demo（包含iOS &amp; Android)RN-NativeTest\n","dateCreated":"2018-12-18T20:09:23+08:00","dateModified":"2018-12-21T13:43:16+08:00","datePublished":"2018-12-18T20:09:23+08:00","description":"\n1 RN调用Native方法\n1、创建交互类Module，继承ReactContextBaseJavaModule；\n2、创建package，实现ReactPackage的方法，添加步骤1创建的交互类Module到package内；\n3、添加创建的自定义package到ReactNativeHost中的getPackages方法中，向ReactNative注册原生模块；\n","headline":"ReactNative与Android的交互","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/"},"publisher":{"@type":"Organization","name":"BulldogX","sameAs":[],"image":"/Avatar_icefrog.jpg","logo":{"@type":"ImageObject","url":"/Avatar_icefrog.jpg"}},"url":"http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/","keywords":"ReactNative"}</script>
    <meta name="description" content="1 RN调用Native方法 1、创建交互类Module，继承ReactContextBaseJavaModule； 2、创建package，实现ReactPackage的方法，添加步骤1创建的交互类Module到package内； 3、添加创建的自定义package到ReactNativeHost中的getPackages方法中，向ReactNative注册原生模块；">
<meta name="keywords" content="ReactNative">
<meta property="og:type" content="blog">
<meta property="og:title" content="ReactNative与Android的交互">
<meta property="og:url" content="http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/index.html">
<meta property="og:site_name" content="BulldogX&#39;s Notes">
<meta property="og:description" content="1 RN调用Native方法 1、创建交互类Module，继承ReactContextBaseJavaModule； 2、创建package，实现ReactPackage的方法，添加步骤1创建的交互类Module到package内； 3、添加创建的自定义package到ReactNativeHost中的getPackages方法中，向ReactNative注册原生模块；">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="https://wx3.sinaimg.cn/large/72ebc0edgy1fyd87qlj2fg208z0eyglv.gif">
<meta property="og:image" content="https://ws3.sinaimg.cn/large/72ebc0edgy1fyd8axzty5g208z0ey752.gif">
<meta property="og:image" content="https://ws1.sinaimg.cn/large/72ebc0edgy1fyd8db2anlg208z0eyjro.gif">
<meta property="og:image" content="https://wx4.sinaimg.cn/large/72ebc0edgy1fyd8o0rc48g208z0g0abu.gif">
<meta property="og:updated_time" content="2018-12-21T05:43:16.022Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ReactNative与Android的交互">
<meta name="twitter:description" content="1 RN调用Native方法 1、创建交互类Module，继承ReactContextBaseJavaModule； 2、创建package，实现ReactPackage的方法，添加步骤1创建的交互类Module到package内； 3、添加创建的自定义package到ReactNativeHost中的getPackages方法中，向ReactNative注册原生模块；">
<meta name="twitter:image" content="https://wx3.sinaimg.cn/large/72ebc0edgy1fyd87qlj2fg208z0eyglv.gif">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/Avatar_icefrog.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-du2xmrqdqrl2ollgeiw050kpl6l4nbyz7bumjuurjgsxyopifvukebxc9lqe.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">BulldogX&#39;s Notes</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">BulldogX</h4>
                
                    <h5 class="sidebar-profile-bio"><p style='color:red'>国家一级抬杠运动员</p></h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首页"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分类"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="标签"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="归档"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜索"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="关于"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            ReactNative与Android的交互
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-12-18T20:09:23+08:00">
	
		    12月 18, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/ReactNative/">ReactNative</a>


    
    <!--如果是文章页面则显示阅读统计>-->
        
        <span id="busuanzi_container_page_pv">
         | 本文共被围观 <span id="busuanzi_value_page_pv"></span> 次.
        </span>
        
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="table-of-contents">目录</h1><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-RN调用Native方法"><span class="toc-text">1 RN调用Native方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-导出Native端的showInfo提示方法"><span class="toc-text">1.1 导出Native端的showInfo提示方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-RN端调用导出的showInfo方法："><span class="toc-text">1.2 RN端调用导出的showInfo方法：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-RN回调Native"><span class="toc-text">1.3 RN回调Native</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-使用Promise回调"><span class="toc-text">1.4 使用Promise回调</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Native发送通知到RN"><span class="toc-text">2 Native发送通知到RN</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Native向RN自定义传参"><span class="toc-text">3 Native向RN自定义传参</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-完整Demo（包含iOS-amp-Android"><span class="toc-text">4 完整Demo（包含iOS &amp; Android)</span></a></li></ol>
<h3 id="1-RN调用Native方法"><a href="#1-RN调用Native方法" class="headerlink" title="1 RN调用Native方法"></a>1 RN调用Native方法</h3><ul>
<li>1、创建交互类Module，继承<code>ReactContextBaseJavaModule</code>；</li>
<li>2、创建package，实现<code>ReactPackage</code>的方法，添加步骤1创建的交互类Module到package内；</li>
<li>3、添加创建的自定义package到<code>ReactNativeHost</code>中的<code>getPackages</code>方法中，向ReactNative注册原生模块；</li>
</ul>
<a id="more"></a>
<h4 id="1-1-导出Native端的showInfo提示方法"><a href="#1-1-导出Native端的showInfo提示方法" class="headerlink" title="1.1 导出Native端的showInfo提示方法"></a>1.1 导出Native端的showInfo提示方法</h4><p>Native端导出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RNInterractModule</span> <span class="keyword">extends</span> <span class="title">ReactContextBaseJavaModule</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ReactContext mReactContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RNInterractModule</span><span class="params">(ReactApplicationContext reactContext)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(reactContext);</span><br><span class="line">        <span class="keyword">this</span>.mReactContext = reactContext;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出的模块名字</span></span><br><span class="line">    <span class="meta">@Override</span> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"RNInterractModule"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//==============1、提示==============</span></span><br><span class="line">    <span class="meta">@ReactMethod</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showInfo</span><span class="params">(String info)</span></span>&#123;</span><br><span class="line">        Toast.makeText(getReactApplicationContext(),info,Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加Module到自定义package：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RNInterractPackage</span> <span class="keyword">implements</span> <span class="title">ReactPackage</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;NativeModule&gt; <span class="title">createNativeModules</span><span class="params">(ReactApplicationContext reactContext)</span> </span>&#123;</span><br><span class="line">        List&lt;NativeModule&gt; modules = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        modules.add(<span class="keyword">new</span> RNInterractModule(reactContext));</span><br><span class="line">        <span class="keyword">return</span> modules;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;ViewManager&gt; <span class="title">createViewManagers</span><span class="params">(ReactApplicationContext reactContext)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再添加package（此处展示完整的MainApplication方法，重写<code>getPackages()</code>方法中添加）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> <span class="keyword">implements</span> <span class="title">ReactApplication</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ReactNativeHost <span class="title">getReactNativeHost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> reactNativeHost;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ReactNativeHost reactNativeHost = <span class="keyword">new</span> ReactNativeHost(<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getUseDeveloperSupport</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> List&lt;ReactPackage&gt; <span class="title">getPackages</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Arrays.&lt;ReactPackage&gt;asList(</span><br><span class="line">                    <span class="keyword">new</span> MainReactPackage(),</span><br><span class="line">                    <span class="keyword">new</span> RNInterractPackage()</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> String <span class="title">getJSMainModuleName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"index"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="1-2-RN端调用导出的showInfo方法："><a href="#1-2-RN端调用导出的showInfo方法：" class="headerlink" title="1.2 RN端调用导出的showInfo方法："></a>1.2 RN端调用导出的showInfo方法：</h4><p>我们在RN端把Native的方法通过一个共同的utils工具类引入，如下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; NativeModules &#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出Native端的方法</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; showInfo&#125; = NativeModules.RNInterractModule;</span><br></pre></td></tr></table></figure>
<p>具体的RN页面使用时：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; showInfo &#125; <span class="keyword">from</span> <span class="string">"../utils"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过Button点击事件触发</span></span><br><span class="line">&lt;Button</span><br><span class="line">	title=<span class="string">'1、调用Native提示'</span></span><br><span class="line">	onPress=&#123;() =&gt; showInfo(<span class="string">'我是原生端的提示！'</span>)&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p>调用效果：</p>
<p><img src="https://wx3.sinaimg.cn/large/72ebc0edgy1fyd87qlj2fg208z0eyglv.gif" alt="image"></p>
<h4 id="1-3-RN回调Native"><a href="#1-3-RN回调Native" class="headerlink" title="1.3 RN回调Native"></a>1.3 RN回调Native</h4><p>我们提供一个例子来模拟：目前的需求是做面包，RN端能提供面粉，但是不会做，Native端是有做面包的功能；所以我们需要先把面粉，传给Native端，Native加工好面包之后，再通过回调回传给RN端。</p>
<p>Native端提供方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 比如调用原生的方法处理图片、视频之类的，处理完成之后再把结果回传到RN页面里去</span></span><br><span class="line"><span class="comment">//<span class="doctag">TODO:</span> 请务必注意 callback 并非在对应的原生函数返回后立即被执行——注意跨语言通讯是异步的，这个执行过程会通过消息循环来进行。</span></span><br><span class="line"><span class="meta">@ReactMethod</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">patCake</span><span class="params">(String flour, Callback successCallback,Callback errorCallback)</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="comment">//模拟异常，走reject</span></span><br><span class="line">        <span class="keyword">if</span> (!flour.getClass().equals(String.class))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"出错了，参数类型不匹配"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        successCallback.invoke(patCakeUse(flour));</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        errorCallback.invoke(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用RN端传递的参数字符串：""，调用Native端的做面包方法，加工成面包，再回传给RN</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">patCakeUse</span><span class="params">(String flour)</span></span>&#123;</span><br><span class="line">    String cake = String.format(<span class="string">"使用%s，做好了:\uD83C\uDF82\uD83C\uDF5E\uD83C\uDF5E\uD83C\uDF70\uD83C\uDF70\uD83C\uDF70"</span>,flour);</span><br><span class="line">    <span class="keyword">return</span> cake;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>RN端调用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先工具类里先引入</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; showInfo,patCake &#125; = NativeModules.RNInterractModule;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//具体页面使用</span></span><br><span class="line">&lt;Button</span><br><span class="line">	title=<span class="string">'4、回调：使用面粉做蛋糕'</span></span><br><span class="line">	onPress=&#123;() =&gt; patCake(<span class="string">'1斤面粉'</span>,</span><br><span class="line">		(cake) =&gt; alert(cake),</span><br><span class="line">		(error) =&gt; alert(<span class="string">'出错了'</span> + error.message))&#125;</span><br><span class="line">	/&gt;</span><br></pre></td></tr></table></figure>
<p>调用效果：</p>
<p><img src="https://ws3.sinaimg.cn/large/72ebc0edgy1fyd8axzty5g208z0ey752.gif" alt="image"></p>
<h4 id="1-4-使用Promise回调"><a href="#1-4-使用Promise回调" class="headerlink" title="1.4 使用Promise回调"></a>1.4 使用Promise回调</h4><p>Native端提供方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ReactMethod</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">callNameTointroduction</span><span class="params">(String name, Promise promise)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//模拟异常，走reject</span></span><br><span class="line">            <span class="keyword">if</span> (!name.getClass().equals(String.class))&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"出错了，参数类型不匹配"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            promise.resolve(introduction(name));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            promise.reject(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">introduction</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> String.format(<span class="string">"我的名字叫%s，今年18岁，喜欢运动、听歌..."</span>,name);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>RN端调用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先工具类里先引入</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> &#123; showInfo,patCake, callNameTointroduction&#125; = NativeModules.RNInterractModule;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体页面使用</span></span><br><span class="line">&lt;Button</span><br><span class="line">	title=<span class="string">'5、Promise：点名自我介绍'</span></span><br><span class="line">	onPress=&#123;</span><br><span class="line">		<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">let</span> introduction = <span class="keyword">await</span> callNameTointroduction(<span class="string">'小明'</span>);</span><br><span class="line">				showInfo(introduction);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">				alert(e.message);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p>调用效果：</p>
<p><img src="https://ws1.sinaimg.cn/large/72ebc0edgy1fyd8db2anlg208z0eyjro.gif" alt="image"></p>
<h3 id="2-Native发送通知到RN"><a href="#2-Native发送通知到RN" class="headerlink" title="2 Native发送通知到RN"></a>2 Native发送通知到RN</h3><p>实现自定义的发送RN消息类<code>RNNotificationManager</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RNNotificationManager</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义上下文</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  ReactContext mContext;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//发送事件到RN端</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sendRNEvent</span><span class="params">(String eventName, @Nullable WritableMap params)</span></span>&#123;</span><br><span class="line">        mContext.getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class).emit(eventName,params);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们使用静态成员变量、方法，<code>mContext</code>在自定义的<code>RNInterractModule</code>为其赋值：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RNInterractModule</span> <span class="keyword">extends</span> <span class="title">ReactContextBaseJavaModule</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ReactContext mReactContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RNInterractModule</span><span class="params">(ReactApplicationContext reactContext)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(reactContext);</span><br><span class="line">        <span class="keyword">this</span>.mReactContext = reactContext;</span><br><span class="line">        <span class="comment">//赋值</span></span><br><span class="line">        RNNotificationManager.mContext = reactContext;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后就可以在需要给RN发送消息的地方调用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">button.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">                WritableMap params = Arguments.createMap();</span><br><span class="line">                params.putString(<span class="string">"message"</span>,<span class="string">"登录成功"</span>);</span><br><span class="line">                RNNotificationManager.sendRNEvent(<span class="string">"kRNNotification_Login"</span>,params);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>
<p>RN端接收消息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加监听</span></span><br><span class="line">componentWillMount() &#123;</span><br><span class="line">		<span class="keyword">this</span>.subscription = DeviceEventEmitter.addListener(<span class="string">'kRNNotification_Login'</span>,<span class="keyword">this</span>.updateLoginInfoText)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//移除监听</span></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'ActivityScene---------&gt;'</span>, <span class="string">'移除通知'</span>);</span><br><span class="line">	<span class="keyword">this</span>.subscription.remove();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用展示：</p>
<p><img src="https://wx4.sinaimg.cn/large/72ebc0edgy1fyd8o0rc48g208z0g0abu.gif" alt="image"></p>
<h4 id="3-Native向RN自定义传参"><a href="#3-Native向RN自定义传参" class="headerlink" title="3 Native向RN自定义传参"></a>3 Native向RN自定义传参</h4><ul>
<li>在继承<code>ReactActivity</code>的RN入口Activity中，自定义<code>CustomDelegate</code>（继承ReactActivityDelegate）；</li>
<li>然后重写<code>CustomDelegate</code>的<code>getLaunchOptions()</code>方法，此处的Bundle即为要传递的参数Bundle；</li>
<li>再重写RN入口Activity的<code>createReactActivityDelegate()</code>方法，返回<code>CustomDelegate</code>实例；</li>
<li>RN端参数接收通过入口页面的<code>this.props</code>获取，具体可参考demo</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReactNativeActivity</span> <span class="keyword">extends</span> <span class="title">ReactActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String strData;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        <span class="keyword">if</span> (intent != <span class="keyword">null</span>)&#123;</span><br><span class="line">            strData = intent.getStringExtra(<span class="string">"msgKey"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> String <span class="title">getMainComponentName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"RNTest"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> ReactActivityDelegate <span class="title">createReactActivityDelegate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CustomDelegate(<span class="keyword">this</span>,getMainComponentName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自定义ReactDelegate</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">CustomDelegate</span> <span class="keyword">extends</span> <span class="title">ReactActivityDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="title">CustomDelegate</span><span class="params">(Activity activity, @Nullable String mainComponentName)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">super</span>(activity, mainComponentName);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Nullable</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> Bundle <span class="title">getLaunchOptions</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            Bundle bundle = <span class="keyword">new</span> Bundle();</span><br><span class="line">            bundle.putString(<span class="string">"msg"</span>,strData);</span><br><span class="line">            <span class="keyword">return</span> bundle;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-完整Demo（包含iOS-amp-Android"><a href="#4-完整Demo（包含iOS-amp-Android" class="headerlink" title="4 完整Demo（包含iOS &amp; Android)"></a>4 完整Demo（包含iOS &amp; Android)</h3><p><a href="https://github.com/BulldogX/RN-NativeTest.git" target="_blank" rel="noopener">RN-NativeTest</a></p>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/ReactNative/">ReactNative</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/12/20/ReactNative/ReactNative与iOS的交互/" data-tooltip="ReactNative与iOS的交互" aria-label="上一篇: ReactNative与iOS的交互">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/11/26/ReactNative/ReactNative集成到原生项目/" data-tooltip="ReactNative集成至现有原生项目" aria-label="下一篇: ReactNative集成至现有原生项目">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    <span class="copyrights">
        Copyrights &copy; 2018 BulldogX. All Rights Reserved.
    </span>
    <span id="busuanzi_container_site_pv">
  您是本站第<span id="busuanzi_value_site_pv"></span>位访问者
</span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/12/20/ReactNative/ReactNative与iOS的交互/" data-tooltip="ReactNative与iOS的交互" aria-label="上一篇: ReactNative与iOS的交互">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/11/26/ReactNative/ReactNative集成到原生项目/" data-tooltip="ReactNative集成至现有原生项目" aria-label="下一篇: ReactNative集成至现有原生项目">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#table-of-contents" aria-label="目录">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>分享到 Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
        
            <h4 id="about-card-name">BulldogX</h4>
        
            <div id="about-card-bio"><p style='color:red'>国家一级抬杠运动员</p></div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>APP开发工程师</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                ShangHai
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-vufjrm3fmbuttogo1hxuu0w9w0sesk5iyysjuguc2hdhufot9szxg8twijry.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://yoursite.com/2018/12/18/ReactNative/ReactNative与Android的交互/';
                 
                    this.page.identifier = '2018/12/18/ReactNative/ReactNative与Android的交互/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'bulldogx';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



    </body>
</html>
