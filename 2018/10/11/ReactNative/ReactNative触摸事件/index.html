
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="BulldogX&#39;s Notes">
    <title>ReactNative触摸事件 - BulldogX&#39;s Notes</title>
    <meta name="author" content="BulldogX">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"BulldogX","sameAs":[],"image":"/Avatar_icefrog.jpg"},"articleBody":"1、基本的触摸组件\nText\nButton\nTouchable系列组件\nTouchableHighlight\nTouchableNativeFeedback\nTouchableOpacity\nTouchableWithoutFeedback\n\n\n\n这些组件都支持onPressIn、onPressOut、onPress、onLongPress方法。\n\n\n使用TouchableOpacity示例：\n\n12345678910&lt;TouchableOpacity    onPressIn=&#123;() =&gt; console.log(\"onPressIn\")&#125;  onPressOut=&#123;() =&gt; console.log(\"onPressOut\")&#125;  onPress=&#123;() =&gt; console.log(\"onPress\")&#125;  onLongPress=&#123;() =&gt; console.log(\"onLongPress\")&#125;  &gt;  &lt;Image    style=&#123;styles.btn_login&#125;    source=&#123;require('./img/btn_login.png')&#125; /&gt;&lt;/TouchableHighlight&gt;\nTouch*手势的区别：\n\n1、TouchableHighlight，除了给内部元素增加绑定事件之外，还负责给内部元素增加点击的效果；2、TouchableNativeFeedback只能用在安卓平台上，它可以针对点击在点击区域中显示不同的效果，例如安卓系统中的点击波纹效果；3、TouchableOpacity这个组件用来给为内部元素在点击时添加透明度；4、TouchableWithoutFeedback这个组件只响应touch手势，不增加点击态，不推荐使用。\n\n2、手势响应系统2.1单组件触摸事件处理RN的组件默认不进行处理触摸事件，但是我们可以将一个普通的View组件变成一个能响应手势操作的responder，只需要在props上设置如下方法：\n12345678910View.props.onStartShouldSetResponderView.props.onMoveShouldSetResponderView.props.onResponderGrantView.props.onResponderRejectView.props.onResponderStartView.props.onResponderMoveView.props.onResponderEndView.props.onResponderReleaseView.props.onResponderTerminationRequestView.props.onResponderTerminate\nReact Native事件响应的基本步骤如下：\n1、如果组件要进行触摸事件处理，首先要申请成为事件响应者，通过如下两个属性询问组件是否成为响应者：\n\nView.props.onStartShouldSetResponder: (evt) =&gt; true，在触摸开始的时候（TouchDown），ReactNative会先调用此函数，询问组件是否需要成为事件的响应者；\nView.props.onMoveShouldSetResponder: (evt) =&gt; true，如果View不是响应者，那么在每一个触摸点开始移动；\n\n2、因为同一时刻，只能有一个事件处理响应者，所以并不是每个组件都能申请成功，RN通过如下两个回调告知申请结果：\n\nView.props.onResponderGrant: (evt) =&gt; {}：表示申请成功，组件成为了事件处理响应者，这时组件就开始接收后序的触摸事件输入。一般情况下，这时开始，组件进入了激活状态，并进行一些事件处理或者手势识别的初始化。\nView.props.onResponderReject: (evt) =&gt; {}：表示申请失败了，这意味者其他组件正在进行事件处理，并且它不想放弃事件处理，所以你的申请被拒绝了，后续输入事件不会传递给本组件进行处理。\n\n3、如果组件申请成为了响应者，会执行如下回调方法：\n\nView.props.onResponderStart: (evt) =&gt; {}：表示手指按下时，成功申请为事件响应者的回调；\nView.props.onResponderMove: (evt) =&gt; {}：表示触摸手指移动的事件，这个回调可能非常频繁，所以这个回调函数的内容需要尽量简单；\nView.props.onResponderEnd: (evt) =&gt; {}：表示组件结束事件响应。\nView.props.onResponderRelease: (evt) =&gt; {}：表示触摸完成（touchUp）的时候的回调，表示用户完成了本次的触摸交互，这里应该完成手势识别的处理，这以后，组件不再是事件响应者，组件取消激活。\n\n4、当组件处于响应者期间，并且其他组件也在申请触摸事件处理时，RN会询问是否可以释放响应让给其他组件：\n\nView.props.onResponderTerminationRequest: (evt) =&gt; bool \n\n5、最终释放响应者的角色后，回调onResponderTerminate，通知组件事件响应处理被终止：\n\n可能是由于其他 View 通过onResponderTerminationRequest请求的，也可能是由操作系统强制夺权（比如 iOS 上的控制中心或是通知中心）\n\n\nView.props.onResponderTerminate: (evt) =&gt; {}   \n\n示例代码：\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384import React, &#123;Component&#125; from 'react';import &#123;\tStyleSheet,\tView,\tButton,\tText&#125; from 'react-native';export default class GestureScreen extends Component &#123;\tconstructor(props) &#123;\t\tsuper(props);\t\tthis.state = &#123;\t\t\tbackgroundColor: 'blue'\t\t&#125;;\t\tthis.gestureHandlers = &#123;\t\t\tonStartShouldSetResponder: () =&gt; true,\t\t\tonMoveShouldSetResponder: () =&gt; true,\t\t\tonResponderStart:() =&gt; &#123;\t\t\t\tconsole.log('onResponderStart')\t\t\t&#125;,\t\t\tonResponderGrant: () =&gt; &#123;\t\t\t\tconsole.log('onResponderGrant');\t\t\t\tthis.setState(&#123;backgroundColor: 'green'&#125;)\t\t\t&#125;,\t\t\tonResponderMove: () =&gt; &#123;\t\t\t\tconsole.log('onResponderMove')\t\t\t&#125;,\t\t\tonResponderEnd:() =&gt; &#123;\t\t\t\tconsole.log('onResponderEnd')\t\t\t&#125;,\t\t\tonResponderRelease: () =&gt; &#123;\t\t\t\tconsole.log('onResponderRelease')\t\t\t\tthis.setState(&#123;backgroundColor: 'blue'&#125;)\t\t\t&#125;,\t\t\tonResponderTerminationRequest: () =&gt; &#123;\t\t\t\tconsole.log('onResponderTerminationRequest');\t\t\t\treturn true;\t\t\t&#125;,\t\t\tonResponderTerminate: (evt) =&gt; &#123;\t\t\t\tconsole.log('onResponderTerminate')\t\t\t&#125;\t\t&#125;;\t&#125;\trender() &#123;\t\treturn (\t\t\t&lt;View style=&#123;styles.container&#125;&gt;\t\t\t\t&lt;View\t\t\t\t\t&#123;...this.gestureHandlers&#125;\t\t\t\t\tstyle=&#123;[styles.gesview,&#123;backgroundColor:this.state.backgroundColor&#125;]&#125;&gt;\t\t\t\t\t&lt;Text style=&#123;styles.text&#125;&gt;View 1&lt;/Text&gt;\t\t\t\t&lt;/View&gt;\t\t\t&lt;/View&gt;\t\t);\t&#125;&#125;const styles = StyleSheet.create(&#123;\tcontainer: &#123;\t\tflex: 1,\t\talignItems: 'center',\t\tjustifyContent: 'center',\t\tbackgroundColor:'rgb(236,236,236)'\t&#125;,\tgesview:&#123;\t\twidth:160,\t\theight:80,\t\tborderRadius:20,\t\tborderColor:'red',\t\tborderWidth:2,\t\talignItems:'center',\t\tjustifyContent:'center',\t&#125;,\ttext:&#123;\t\tcolor:'white',\t\tfontSize:20,\t\tfontWeight:'bold'\t&#125;&#125;);\n执行这段代码，responderGrant响应，中间绿色的View变为蓝色,responderRelease响应，重新变为绿色;点击一次View，然后离开屏幕，调用顺序：\n\n\n1、onResponderGrant\n2、onResponderStart\n3、onResponderEnd\n4、onResponderRelease\n\n\n\n2.2嵌套组件触摸事件处理如果父View A中嵌套有一个子组件View B，\n\n正常的情况，当用户触摸View B时，子组件会显示：B 子组件 被点击，父View则不会有反应；当点击View A时，View A会显示：A 组件 被点击，子View B没有反应，以保证视图都能够正常处理触摸事件。\n示例\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108import React, &#123;Component&#125; from 'react';import &#123;\tStyleSheet,\tView,\tButton,\tText&#125; from 'react-native';export default class GestureScreen extends Component &#123;\tconstructor(props) &#123;\t\tsuper(props);\t\tthis.state = &#123;\t\t\ttext1: 'A 父组件',\t\t\ttext2:'B 子组件'\t\t&#125;;\t\tthis.gestureHandlers = &#123;\t\t\tonStartShouldSetResponder: () =&gt; true,\t\t\tonMoveShouldSetResponder: () =&gt; true,\t\t\tonResponderStart: () =&gt; &#123;\t\t\t\tconsole.log('onResponderStart')\t\t\t&#125;,\t\t\tonResponderGrant: () =&gt; &#123;\t\t\t\tconsole.log('onResponderGrant');\t\t\t\tthis.setState(&#123;text1: 'A 父组件 被点击'&#125;)\t\t\t&#125;,\t\t\tonResponderMove: () =&gt; &#123;\t\t\t\tconsole.log('onResponderMove')\t\t\t&#125;,\t\t\tonResponderEnd: () =&gt; &#123;\t\t\t\tconsole.log('onResponderEnd')\t\t\t&#125;,\t\t\tonResponderRelease: () =&gt; &#123;\t\t\t\tconsole.log('onResponderRelease')\t\t\t\tthis.setState(&#123;text1:'A 父组件'&#125;)\t\t\t&#125;,\t\t&#125;;\t\tthis.gestureHandlers2 = &#123;\t\t\tonStartShouldSetResponder: () =&gt; true,\t\t\tonMoveShouldSetResponder: () =&gt; true,\t\t\tonResponderStart: () =&gt; &#123;\t\t\t\tconsole.log('onResponderStart----&gt;2')\t\t\t&#125;,\t\t\tonResponderGrant: () =&gt; &#123;\t\t\t\tconsole.log('onResponderGrant----&gt;2');\t\t\t\tthis.setState(&#123;text2: 'B 子组件 被点击'&#125;)\t\t\t&#125;,\t\t\tonResponderMove: () =&gt; &#123;\t\t\t\tconsole.log('onResponderMove----&gt;2')\t\t\t&#125;,\t\t\tonResponderEnd: () =&gt; &#123;\t\t\t\tconsole.log('onResponderEnd----&gt;2')\t\t\t&#125;,\t\t\tonResponderRelease: () =&gt; &#123;\t\t\t\tconsole.log('onResponderRelease----&gt;2')\t\t\t\tthis.setState(&#123;text2: 'B 子组件'&#125;)\t\t\t&#125;,\t\t&#125;;\t&#125;\trender() &#123;\t\treturn (\t\t\t&lt;View style=&#123;styles.container&#125;&gt;\t\t\t\t&lt;View\t\t\t\t\t&#123;...this.gestureHandlers&#125;\t\t\t\t\tstyle=&#123;styles.gesview&#125;&gt;\t\t\t\t\t&lt;Text style=&#123;styles.text&#125;&gt;&#123;this.state.text1&#125;&lt;/Text&gt;\t\t\t\t\t&lt;View\t\t\t\t\t\tstyle=&#123;styles.sonview&#125;\t\t\t\t\t\t&#123;...this.gestureHandlers2&#125;&gt;\t\t\t\t\t\t&lt;Text style=&#123;styles.text&#125;&gt;&#123;this.state.text2&#125;&lt;/Text&gt;\t\t\t\t\t&lt;/View&gt;\t\t\t\t&lt;/View&gt;\t\t\t&lt;/View&gt;\t\t);\t&#125;&#125;const styles = StyleSheet.create(&#123;\tcontainer: &#123;\t\tflex: 1,\t\talignItems: 'center',\t\tjustifyContent: 'center',\t\tbackgroundColor: 'rgb(236,236,236)'\t&#125;,\tgesview: &#123;\t\twidth: 200,\t\theight: 200,\t\tbackgroundColor:'#B34D76',\t&#125;,\ttext: &#123;\t\tcolor: 'white',\t\tfontSize: 20,\t\tfontWeight: 'bold'\t&#125;,\tsonview: &#123;\t\twidth:100,\t\theight:100,\t\tbackgroundColor:'#33AECC',\t\talignSelf:'center',\t\tmarginTop:20,\t&#125;&#125;);\n\n但是，在 RN 中，默认情况下使用冒泡机制，响应最深的组件最先开始响应。所以当多个 View 同时在*ShouldSetResponder中返回 true 时，最底层的 View 将最先响应。RN 提供了一个劫持机制，在触摸事件往下传递的时候，先询问父组件是否需要劫持，不给子组件传递事件，也就是如下两个回调：\n\nView.props.onStartShouldSetResponderCapture: (evt) =&gt; true\nView.props.onMoveShouldSetResponderCapture: (evt) =&gt; true\n\n我们设置View A的以上两个属性为true时，效果：\n\n可见点击B子View时，A父View显示被点击，点击A View，依然是A被点击；B的事件被父View拦截并处理，并且不再继续传递。\n2.3事件数据结构触摸事件处理的回调都有一个 evt 参数，包含一个触摸事件数据 nativeEvent。nativeEvent 的详细内容如下\n\nchangedTouches - 在上一次事件之后，所有发生变化的触摸事件的数组集合（即上一次事件后，所有移动过的触摸点）\nidentifier - 触摸点的 ID\nlocationX - 触摸点相对于当前元素的横坐标\nlocationY - 触摸点相对于当前元素的纵坐标\npageX - 触摸点相对于根元素的横坐标\npageY - 触摸点相对于根元素的纵坐标\ntarget - 触摸点所在的元素 ID\ntimestamp - 触摸事件的时间戳，可用于移动速度的计算\ntouches - 当前屏幕上的所有触摸点的集合\n\n3、PanResponderRN提供了内置的手势识别库PanResponder，它封装了上面的事件回调函数，对触摸事件数据进行加工，完成滑动手势识别：PanResponder的每个方法，除了第一个evt参数之外，还可以使用第二个参数gestureState，gestureState是一个对象，包含手势进行过程中更多的信息\n3.1 一个gestureState对象有如下的字段：\nstateID - 触摸状态的 ID。在屏幕上有至少一个触摸点的情况下，这个 ID 会一直有效。\nmoveX - 最近一次移动时的屏幕横坐标\nmoveY - 最近一次移动时的屏幕纵坐标\nx0 - 当响应器产生时的屏幕坐标\ny0 - 当响应器产生时的屏幕坐标\ndx - 从触摸操作开始时的累计横向路程\ndy - 从触摸操作开始时的累计纵向路程\nvx - 当前的横向移动速度\nvy - 当前的纵向移动速度\nnumberActiveTouches - 当前在屏幕上的有效触摸点的数量\n\n3.2 PanResponder.create()方法中，可配置的属性：12345678910111213onMoveShouldSetPanResponder: (e, gestureState) =&gt; &#123;...&#125;onMoveShouldSetPanResponderCapture: (e, gestureState) =&gt; &#123;...&#125;onStartShouldSetPanResponder: (e, gestureState) =&gt; &#123;...&#125;onStartShouldSetPanResponderCapture: (e, gestureState) =&gt; &#123;...&#125;onPanResponderReject: (e, gestureState) =&gt; &#123;...&#125;onPanResponderGrant: (e, gestureState) =&gt; &#123;...&#125;onPanResponderStart: (e, gestureState) =&gt; &#123;...&#125;onPanResponderEnd: (e, gestureState) =&gt; &#123;...&#125;onPanResponderRelease: (e, gestureState) =&gt; &#123;...&#125;onPanResponderMove: (e, gestureState) =&gt; &#123;...&#125;onPanResponderTerminate: (e, gestureState) =&gt; &#123;...&#125;onPanResponderTerminationRequest: (e, gestureState) =&gt; &#123;...&#125;onShouldBlockNativeResponder: (e, gestureState) =&gt; &#123;...&#125;\n3.3 使用PanResponder,简单实现一个拖拽视图：123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869import React, &#123;Component&#125; from 'react';import &#123;\tStyleSheet,\tView,\tPanResponder&#125; from 'react-native';export default class GestureScreen extends Component &#123;\tconstructor(props) &#123;\t\tsuper(props);\t\tthis.state = &#123;\t\t\ttop:0,\t\t\tleft:0\t\t&#125;;\t\tthis.panResponder = PanResponder.create(&#123;\t\t\tonStartShouldSetPanResponder: () =&gt; true,\t\t\tonMoveShouldSetPanResponder: ()=&gt; true,\t\t\tonPanResponderGrant: ()=&gt;&#123;\t\t\t\tthis.top = this.state.top;\t\t\t\tthis.left = this.state.left;\t\t\t&#125;,\t\t\tonPanResponderMove: (evt,gestureState)=&gt;&#123;\t\t\t\tthis.setState(&#123;\t\t\t\t\ttop: this.top+gestureState.dy,\t\t\t\t\tleft: this.left+gestureState.dx\t\t\t\t&#125;)\t\t\t&#125;,\t\t\tonPanResponderRelease: (evt,gestureState)=&gt;&#123;\t\t\t\tthis.setState(&#123;\t\t\t\t\ttop: this.top+gestureState.dy,\t\t\t\t\tleft: this.left+gestureState.dx\t\t\t\t&#125;)&#125;\t\t&#125;)\t&#125;\trender() &#123;\t\treturn (\t\t\t&lt;View style=&#123;styles.container&#125;&gt;\t\t\t\t&lt;View\t\t\t\t\t&#123;...this.panResponder.panHandlers&#125;\t\t\t\t\tstyle=&#123;[styles.dragview,&#123;\t\t\t\t\t\ttop: this.state.top,\t\t\t\t\t\tleft: this.state.left\t\t\t\t\t&#125;]&#125;/&gt;\t\t\t&lt;/View&gt;\t\t);\t&#125;&#125;const styles = StyleSheet.create(&#123;\tcontainer: &#123;\t\tflex: 1,\t\tjustifyContent: 'center',\t\talignItems: 'center',\t\tbackgroundColor: '#F5FCFF',\t&#125;,\tdragview: &#123;\t\twidth: 100,\t\theight: 100,\t\tbackgroundColor:'red',\t\tborderRadius:50,\t&#125;&#125;);\n\n4、总结通过上面的介绍，可以看到 RN 中提供了类似 Native 平台的事件处理机制，所以也可以实现各种的触摸事件处理，甚至也可以实现复杂的手势识别。\n另外需要注意，因为 RN 的异步通信和执行机制，前面描述的所有回调函数都是在 JS 线程中，并不是 Native 的 UI 线程，而 Native 平台的 Touch 事件都是在 UI 线程中。所以在 JS 中通过 Touch 或者手势实现动画，可能会延迟的问题。\n本文是浅析，介绍比较简单。可能存在诸多错误和不足之处，欢迎交流。\n参考：\n\n手势响应系统_官方文档\nPanResponder_官方文档\n“指尖上的魔法” – 谈谈React-Native中的手势\nReactNative 中常见的可触控方法\nReact Native 触摸事件处理详解\n\n","dateCreated":"2018-10-11T17:45:09+08:00","dateModified":"2018-12-04T10:51:06+08:00","datePublished":"2018-10-11T17:45:09+08:00","description":"1、基本的触摸组件\nText\nButton\nTouchable系列组件\nTouchableHighlight\nTouchableNativeFeedback\nTouchableOpacity\nTouchableWithoutFeedback\n\n\n\n这些组件都支持onPressIn、onPressOut、onPress、onLongPress方法。","headline":"ReactNative触摸事件","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/"},"publisher":{"@type":"Organization","name":"BulldogX","sameAs":[],"image":"/Avatar_icefrog.jpg","logo":{"@type":"ImageObject","url":"/Avatar_icefrog.jpg"}},"url":"http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/","keywords":"ReactNative"}</script>
    <meta name="description" content="1、基本的触摸组件 Text Button Touchable系列组件 TouchableHighlight TouchableNativeFeedback TouchableOpacity TouchableWithoutFeedback    这些组件都支持onPressIn、onPressOut、onPress、onLongPress方法。">
<meta name="keywords" content="ReactNative">
<meta property="og:type" content="blog">
<meta property="og:title" content="ReactNative触摸事件">
<meta property="og:url" content="http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/index.html">
<meta property="og:site_name" content="BulldogX&#39;s Notes">
<meta property="og:description" content="1、基本的触摸组件 Text Button Touchable系列组件 TouchableHighlight TouchableNativeFeedback TouchableOpacity TouchableWithoutFeedback    这些组件都支持onPressIn、onPressOut、onPress、onLongPress方法。">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="https://wx3.sinaimg.cn/large/72ebc0edgy1fw5juidj2eg20kp0fugnq.gif">
<meta property="og:image" content="https://wx3.sinaimg.cn/large/72ebc0edgy1fw5khyepagj20kc0ismyx.jpg">
<meta property="og:image" content="http://ws2.sinaimg.cn/large/72ebc0edly1fw80pqq0q4g208g0f1aa6.gif">
<meta property="og:image" content="http://wx1.sinaimg.cn/large/72ebc0edly1fw80u0yp7sg208g0f10su.gif">
<meta property="og:image" content="http://wx3.sinaimg.cn/large/72ebc0edly1fw81t50apvg208g0f13z6.gif">
<meta property="og:updated_time" content="2018-12-04T02:51:06.863Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ReactNative触摸事件">
<meta name="twitter:description" content="1、基本的触摸组件 Text Button Touchable系列组件 TouchableHighlight TouchableNativeFeedback TouchableOpacity TouchableWithoutFeedback    这些组件都支持onPressIn、onPressOut、onPress、onLongPress方法。">
<meta name="twitter:image" content="https://wx3.sinaimg.cn/large/72ebc0edgy1fw5juidj2eg20kp0fugnq.gif">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/Avatar_icefrog.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-du2xmrqdqrl2ollgeiw050kpl6l4nbyz7bumjuurjgsxyopifvukebxc9lqe.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">BulldogX&#39;s Notes</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
                </a>
                <h4 class="sidebar-profile-name">BulldogX</h4>
                
                    <h5 class="sidebar-profile-bio"><p style='color:red'>国家一级抬杠运动员</p></h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="首页"
                        >
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="分类"
                        >
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="标签"
                        >
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="归档"
                        >
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link open-algolia-search"
                             href="#search"
                            
                            title="搜索"
                        >
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="#about"
                            
                            title="关于"
                        >
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            ReactNative触摸事件
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-10-11T17:45:09+08:00">
	
		    10月 11, 2018
    	
    </time>
    
        <span>发布在 </span>
        
    <a class="category-link" href="/categories/ReactNative/">ReactNative</a>


    
    <!--如果是文章页面则显示阅读统计>-->
        
        <span id="busuanzi_container_page_pv">
         | 本文共被围观 <span id="busuanzi_value_page_pv"></span> 次.
        </span>
        
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="1、基本的触摸组件"><a href="#1、基本的触摸组件" class="headerlink" title="1、基本的触摸组件"></a>1、基本的触摸组件</h2><ul>
<li>Text</li>
<li>Button</li>
<li>Touchable系列组件<ul>
<li><code>TouchableHighlight</code></li>
<li><code>TouchableNativeFeedback</code></li>
<li><code>TouchableOpacity</code></li>
<li><code>TouchableWithoutFeedback</code></li>
</ul>
</li>
</ul>
<p>这些组件都支持<code>onPressIn</code>、<code>onPressOut</code>、<code>onPress</code>、<code>onLongPress</code>方法。</p>
<a id="more"></a>
<blockquote>
<p><strong>使用<code>TouchableOpacity</code>示例：</strong></p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;TouchableOpacity  </span><br><span class="line">  onPressIn=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">"onPressIn"</span>)&#125;</span><br><span class="line">  onPressOut=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">"onPressOut"</span>)&#125;</span><br><span class="line">  onPress=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">"onPress"</span>)&#125;</span><br><span class="line">  onLongPress=&#123;() =&gt; <span class="built_in">console</span>.log(<span class="string">"onLongPress"</span>)&#125;</span><br><span class="line">  &gt;</span><br><span class="line">  &lt;Image</span><br><span class="line">    style=&#123;styles.btn_login&#125;</span><br><span class="line">    source=&#123;<span class="built_in">require</span>(<span class="string">'./img/btn_login.png'</span>)&#125; /&gt;</span><br><span class="line">&lt;<span class="regexp">/TouchableHighlight&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>Touch*手势的区别：</strong></p>
<blockquote>
<p>1、<code>TouchableHighlight</code>，除了给内部元素增加绑定事件之外，还负责给内部元素增加点击的效果；<br>2、<code>TouchableNativeFeedback</code>只能用在安卓平台上，它可以针对点击在点击区域中显示不同的效果，例如安卓系统中的点击波纹效果；<br>3、<code>TouchableOpacity</code>这个组件用来给为内部元素在点击时添加透明度；<br>4、<code>TouchableWithoutFeedback</code>这个组件只响应touch手势，不增加点击态，不推荐使用。</p>
</blockquote>
<h2 id="2、手势响应系统"><a href="#2、手势响应系统" class="headerlink" title="2、手势响应系统"></a>2、手势响应系统</h2><h3 id="2-1单组件触摸事件处理"><a href="#2-1单组件触摸事件处理" class="headerlink" title="2.1单组件触摸事件处理"></a>2.1单组件触摸事件处理</h3><p>RN的组件默认不进行处理触摸事件，但是我们可以将一个普通的View组件变成一个能响应手势操作的responder，只需要在props上设置如下方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">View.props.onStartShouldSetResponder</span><br><span class="line">View.props.onMoveShouldSetResponder</span><br><span class="line">View.props.onResponderGrant</span><br><span class="line">View.props.onResponderReject</span><br><span class="line">View.props.onResponderStart</span><br><span class="line">View.props.onResponderMove</span><br><span class="line">View.props.onResponderEnd</span><br><span class="line">View.props.onResponderRelease</span><br><span class="line">View.props.onResponderTerminationRequest</span><br><span class="line">View.props.onResponderTerminate</span><br></pre></td></tr></table></figure>
<p><strong>React Native事件响应的基本步骤如下：</strong></p>
<p>1、如果组件要进行触摸事件处理，首先要申请成为事件响应者，通过如下两个属性询问组件是否成为响应者：</p>
<ul>
<li>View.props.onStartShouldSetResponder: (evt) =&gt; true，在触摸开始的时候（TouchDown），ReactNative会先调用此函数，询问组件是否需要成为事件的响应者；</li>
<li>View.props.onMoveShouldSetResponder: (evt) =&gt; true，如果View不是响应者，那么在每一个触摸点开始移动；</li>
</ul>
<p>2、因为同一时刻，只能有一个事件处理响应者，所以并不是每个组件都能申请成功，RN通过如下两个回调告知申请结果：</p>
<ul>
<li>View.props.onResponderGrant: (evt) =&gt; {}：表示申请成功，组件成为了事件处理响应者，这时组件就开始接收后序的触摸事件输入。一般情况下，这时开始，组件进入了激活状态，并进行一些事件处理或者手势识别的初始化。</li>
<li>View.props.onResponderReject: (evt) =&gt; {}：表示申请失败了，这意味者其他组件正在进行事件处理，并且它不想放弃事件处理，所以你的申请被拒绝了，后续输入事件不会传递给本组件进行处理。</li>
</ul>
<p>3、如果组件申请成为了响应者，会执行如下回调方法：</p>
<ul>
<li>View.props.onResponderStart: (evt) =&gt; {}：表示手指按下时，成功申请为事件响应者的回调；</li>
<li>View.props.onResponderMove: (evt) =&gt; {}：表示触摸手指移动的事件，这个回调可能非常频繁，所以这个回调函数的内容需要尽量简单；</li>
<li>View.props.onResponderEnd: (evt) =&gt; {}：表示组件结束事件响应。</li>
<li>View.props.onResponderRelease: (evt) =&gt; {}：表示触摸完成（touchUp）的时候的回调，表示用户完成了本次的触摸交互，这里应该完成手势识别的处理，这以后，组件不再是事件响应者，组件取消激活。</li>
</ul>
<p>4、当组件处于响应者期间，并且其他组件也在申请触摸事件处理时，RN会询问是否可以释放响应让给其他组件：</p>
<ul>
<li>View.props.onResponderTerminationRequest: (evt) =&gt; bool </li>
</ul>
<p>5、最终释放响应者的角色后，回调<code>onResponderTerminate</code>，通知组件事件响应处理被终止：</p>
<blockquote>
<p>可能是由于其他 View 通过onResponderTerminationRequest请求的，也可能是由操作系统强制夺权（比如 iOS 上的控制中心或是通知中心）</p>
</blockquote>
<ul>
<li>View.props.onResponderTerminate: (evt) =&gt; {}   </li>
</ul>
<p><strong>示例代码：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">	StyleSheet,</span><br><span class="line">	View,</span><br><span class="line">	Button,</span><br><span class="line">	Text</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">GestureScreen</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">		<span class="keyword">super</span>(props);</span><br><span class="line">		<span class="keyword">this</span>.state = &#123;</span><br><span class="line">			backgroundColor: <span class="string">'blue'</span></span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="keyword">this</span>.gestureHandlers = &#123;</span><br><span class="line">			onStartShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onMoveShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onResponderStart:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderStart'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderGrant: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderGrant'</span>);</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">backgroundColor</span>: <span class="string">'green'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderMove: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderMove'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderEnd:<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderEnd'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderRelease: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderRelease'</span>)</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">backgroundColor</span>: <span class="string">'blue'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderTerminationRequest: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderTerminationRequest'</span>);</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderTerminate: <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderTerminate'</span>)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	render() &#123;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">				&lt;View</span><br><span class="line">					&#123;...this.gestureHandlers&#125;</span><br><span class="line">					style=&#123;[styles.gesview,&#123;<span class="attr">backgroundColor</span>:<span class="keyword">this</span>.state.backgroundColor&#125;]&#125;&gt;</span><br><span class="line">					&lt;Text style=&#123;styles.text&#125;&gt;View <span class="number">1</span>&lt;<span class="regexp">/Text&gt;</span></span><br><span class="line"><span class="regexp">				&lt;/</span>View&gt;</span><br><span class="line"></span><br><span class="line">			&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">		);</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const styles = StyleSheet.create(&#123;</span></span><br><span class="line"><span class="regexp">	container: &#123;</span></span><br><span class="line"><span class="regexp">		flex: 1,</span></span><br><span class="line"><span class="regexp">		alignItems: 'center',</span></span><br><span class="line"><span class="regexp">		justifyContent: 'center',</span></span><br><span class="line"><span class="regexp">		backgroundColor:'rgb(236,236,236)'</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	gesview:&#123;</span></span><br><span class="line"><span class="regexp">		width:160,</span></span><br><span class="line"><span class="regexp">		height:80,</span></span><br><span class="line"><span class="regexp">		borderRadius:20,</span></span><br><span class="line"><span class="regexp">		borderColor:'red',</span></span><br><span class="line"><span class="regexp">		borderWidth:2,</span></span><br><span class="line"><span class="regexp">		alignItems:'center',</span></span><br><span class="line"><span class="regexp">		justifyContent:'center',</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	text:&#123;</span></span><br><span class="line"><span class="regexp">		color:'white',</span></span><br><span class="line"><span class="regexp">		fontSize:20,</span></span><br><span class="line"><span class="regexp">		fontWeight:'bold'</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure>
<p>执行这段代码，<code>responderGrant</code>响应，中间绿色的View变为蓝色,<code>responderRelease</code>响应，重新变为绿色;<br>点击一次View，然后离开屏幕，调用顺序：</p>
<blockquote>
<ul>
<li>1、onResponderGrant</li>
<li>2、onResponderStart</li>
<li>3、onResponderEnd</li>
<li>4、onResponderRelease</li>
</ul>
</blockquote>
<p><img src="https://wx3.sinaimg.cn/large/72ebc0edgy1fw5juidj2eg20kp0fugnq.gif" alt="image"></p>
<h3 id="2-2嵌套组件触摸事件处理"><a href="#2-2嵌套组件触摸事件处理" class="headerlink" title="2.2嵌套组件触摸事件处理"></a>2.2嵌套组件触摸事件处理</h3><p>如果父View A中嵌套有一个子组件View B，</p>
<p><img src="https://wx3.sinaimg.cn/large/72ebc0edgy1fw5khyepagj20kc0ismyx.jpg" alt="image"></p>
<p>正常的情况，当用户触摸View B时，子组件会显示：<code>B 子组件 被点击</code>，父View则不会有反应；当点击View A时，View A会显示：<code>A 组件 被点击</code>，子View B没有反应，以保证视图都能够正常处理触摸事件。</p>
<p><strong>示例</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">	StyleSheet,</span><br><span class="line">	View,</span><br><span class="line">	Button,</span><br><span class="line">	Text</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">GestureScreen</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">		<span class="keyword">super</span>(props);</span><br><span class="line">		<span class="keyword">this</span>.state = &#123;</span><br><span class="line">			text1: <span class="string">'A 父组件'</span>,</span><br><span class="line">			text2:<span class="string">'B 子组件'</span></span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="keyword">this</span>.gestureHandlers = &#123;</span><br><span class="line">			onStartShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onMoveShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onResponderStart: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderStart'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderGrant: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderGrant'</span>);</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">text1</span>: <span class="string">'A 父组件 被点击'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderMove: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderMove'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderEnd: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderEnd'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderRelease: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderRelease'</span>)</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">text1</span>:<span class="string">'A 父组件'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="keyword">this</span>.gestureHandlers2 = &#123;</span><br><span class="line">			onStartShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onMoveShouldSetResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onResponderStart: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderStart----&gt;2'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderGrant: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderGrant----&gt;2'</span>);</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">text2</span>: <span class="string">'B 子组件 被点击'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderMove: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderMove----&gt;2'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderEnd: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderEnd----&gt;2'</span>)</span><br><span class="line">			&#125;,</span><br><span class="line">			onResponderRelease: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="built_in">console</span>.log(<span class="string">'onResponderRelease----&gt;2'</span>)</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;<span class="attr">text2</span>: <span class="string">'B 子组件'</span>&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	render() &#123;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">				&lt;View</span><br><span class="line">					&#123;...this.gestureHandlers&#125;</span><br><span class="line">					style=&#123;styles.gesview&#125;&gt;</span><br><span class="line">					&lt;Text style=&#123;styles.text&#125;&gt;&#123;<span class="keyword">this</span>.state.text1&#125;&lt;<span class="regexp">/Text&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">					&lt;View</span></span><br><span class="line"><span class="regexp">						style=&#123;styles.sonview&#125;</span></span><br><span class="line"><span class="regexp">						&#123;...this.gestureHandlers2&#125;&gt;</span></span><br><span class="line"><span class="regexp">						&lt;Text style=&#123;styles.text&#125;&gt;&#123;this.state.text2&#125;&lt;/</span>Text&gt;</span><br><span class="line">					&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">				&lt;/</span>View&gt;</span><br><span class="line"></span><br><span class="line">			&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">		);</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const styles = StyleSheet.create(&#123;</span></span><br><span class="line"><span class="regexp">	container: &#123;</span></span><br><span class="line"><span class="regexp">		flex: 1,</span></span><br><span class="line"><span class="regexp">		alignItems: 'center',</span></span><br><span class="line"><span class="regexp">		justifyContent: 'center',</span></span><br><span class="line"><span class="regexp">		backgroundColor: 'rgb(236,236,236)'</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	gesview: &#123;</span></span><br><span class="line"><span class="regexp">		width: 200,</span></span><br><span class="line"><span class="regexp">		height: 200,</span></span><br><span class="line"><span class="regexp">		backgroundColor:'#B34D76',</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	text: &#123;</span></span><br><span class="line"><span class="regexp">		color: 'white',</span></span><br><span class="line"><span class="regexp">		fontSize: 20,</span></span><br><span class="line"><span class="regexp">		fontWeight: 'bold'</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	sonview: &#123;</span></span><br><span class="line"><span class="regexp">		width:100,</span></span><br><span class="line"><span class="regexp">		height:100,</span></span><br><span class="line"><span class="regexp">		backgroundColor:'#33AECC',</span></span><br><span class="line"><span class="regexp">		alignSelf:'center',</span></span><br><span class="line"><span class="regexp">		marginTop:20,</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure>
<p><img src="http://ws2.sinaimg.cn/large/72ebc0edly1fw80pqq0q4g208g0f1aa6.gif" alt="image"></p>
<p>但是，在 RN 中，默认情况下使用冒泡机制，响应最深的组件最先开始响应。所以当多个 View 同时在*ShouldSetResponder中返回 true 时，最底层的 View 将最先响应。<br>RN 提供了一个劫持机制，在触摸事件往下传递的时候，先询问父组件是否需要劫持，不给子组件传递事件，也就是如下两个回调：</p>
<ul>
<li><code>View.props.onStartShouldSetResponderCapture: (evt) =&gt; true</code></li>
<li><code>View.props.onMoveShouldSetResponderCapture: (evt) =&gt; true</code></li>
</ul>
<p>我们设置View A的以上两个属性为true时，效果：</p>
<p><img src="http://wx1.sinaimg.cn/large/72ebc0edly1fw80u0yp7sg208g0f10su.gif" alt="image"></p>
<p>可见点击B子View时，A父View显示被点击，点击A View，依然是A被点击；B的事件被父View拦截并处理，并且不再继续传递。</p>
<h3 id="2-3事件数据结构"><a href="#2-3事件数据结构" class="headerlink" title="2.3事件数据结构"></a>2.3事件数据结构</h3><p>触摸事件处理的回调都有一个 evt 参数，包含一个触摸事件数据 nativeEvent。nativeEvent 的详细内容如下</p>
<ul>
<li>changedTouches - 在上一次事件之后，所有发生变化的触摸事件的数组集合（即上一次事件后，所有移动过的触摸点）</li>
<li>identifier - 触摸点的 ID</li>
<li>locationX - 触摸点相对于当前元素的横坐标</li>
<li>locationY - 触摸点相对于当前元素的纵坐标</li>
<li>pageX - 触摸点相对于根元素的横坐标</li>
<li>pageY - 触摸点相对于根元素的纵坐标</li>
<li>target - 触摸点所在的元素 ID</li>
<li>timestamp - 触摸事件的时间戳，可用于移动速度的计算</li>
<li>touches - 当前屏幕上的所有触摸点的集合</li>
</ul>
<h2 id="3、PanResponder"><a href="#3、PanResponder" class="headerlink" title="3、PanResponder"></a>3、PanResponder</h2><p>RN提供了内置的手势识别库PanResponder，它封装了上面的事件回调函数，对触摸事件数据进行加工，完成滑动手势识别：<br>PanResponder的每个方法，除了第一个evt参数之外，还可以使用第二个参数gestureState，gestureState是一个对象，包含手势进行过程中更多的信息</p>
<h3 id="3-1-一个gestureState对象有如下的字段："><a href="#3-1-一个gestureState对象有如下的字段：" class="headerlink" title="3.1 一个gestureState对象有如下的字段："></a>3.1 一个gestureState对象有如下的字段：</h3><ul>
<li>stateID - 触摸状态的 ID。在屏幕上有至少一个触摸点的情况下，这个 ID 会一直有效。</li>
<li>moveX - 最近一次移动时的屏幕横坐标</li>
<li>moveY - 最近一次移动时的屏幕纵坐标</li>
<li>x0 - 当响应器产生时的屏幕坐标</li>
<li>y0 - 当响应器产生时的屏幕坐标</li>
<li>dx - 从触摸操作开始时的累计横向路程</li>
<li>dy - 从触摸操作开始时的累计纵向路程</li>
<li>vx - 当前的横向移动速度</li>
<li>vy - 当前的纵向移动速度</li>
<li>numberActiveTouches - 当前在屏幕上的有效触摸点的数量</li>
</ul>
<h3 id="3-2-PanResponder-create-方法中，可配置的属性："><a href="#3-2-PanResponder-create-方法中，可配置的属性：" class="headerlink" title="3.2 PanResponder.create()方法中，可配置的属性："></a>3.2 PanResponder.create()方法中，可配置的属性：</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">onMoveShouldSetPanResponder: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onMoveShouldSetPanResponderCapture: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onStartShouldSetPanResponder: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onStartShouldSetPanResponderCapture: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderReject: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderGrant: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderStart: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderEnd: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderRelease: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderMove: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderTerminate: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onPanResponderTerminationRequest: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br><span class="line">onShouldBlockNativeResponder: <span class="function">(<span class="params">e, gestureState</span>) =&gt;</span> &#123;...&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-3-使用PanResponder-简单实现一个拖拽视图："><a href="#3-3-使用PanResponder-简单实现一个拖拽视图：" class="headerlink" title="3.3 使用PanResponder,简单实现一个拖拽视图："></a>3.3 使用PanResponder,简单实现一个拖拽视图：</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React, &#123;Component&#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">	StyleSheet,</span><br><span class="line">	View,</span><br><span class="line">	PanResponder</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'react-native'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">GestureScreen</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">		<span class="keyword">super</span>(props);</span><br><span class="line">		<span class="keyword">this</span>.state = &#123;</span><br><span class="line">			top:<span class="number">0</span>,</span><br><span class="line">			left:<span class="number">0</span></span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">this</span>.panResponder = PanResponder.create(&#123;</span><br><span class="line">			onStartShouldSetPanResponder: <span class="function"><span class="params">()</span> =&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onMoveShouldSetPanResponder: <span class="function"><span class="params">()</span>=&gt;</span> <span class="literal">true</span>,</span><br><span class="line">			onPanResponderGrant: <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.top = <span class="keyword">this</span>.state.top;</span><br><span class="line">				<span class="keyword">this</span>.left = <span class="keyword">this</span>.state.left;</span><br><span class="line">			&#125;,</span><br><span class="line">			onPanResponderMove: <span class="function">(<span class="params">evt,gestureState</span>)=&gt;</span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;</span><br><span class="line">					top: <span class="keyword">this</span>.top+gestureState.dy,</span><br><span class="line">					left: <span class="keyword">this</span>.left+gestureState.dx</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;,</span><br><span class="line">			onPanResponderRelease: <span class="function">(<span class="params">evt,gestureState</span>)=&gt;</span>&#123;</span><br><span class="line">				<span class="keyword">this</span>.setState(&#123;</span><br><span class="line">					top: <span class="keyword">this</span>.top+gestureState.dy,</span><br><span class="line">					left: <span class="keyword">this</span>.left+gestureState.dx</span><br><span class="line">				&#125;)&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	render() &#123;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">				&lt;View</span><br><span class="line">					&#123;...this.panResponder.panHandlers&#125;</span><br><span class="line">					style=&#123;[styles.dragview,&#123;</span><br><span class="line">						top: <span class="keyword">this</span>.state.top,</span><br><span class="line">						left: <span class="keyword">this</span>.state.left</span><br><span class="line">					&#125;]&#125;/&gt;</span><br><span class="line">			&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">		);</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const styles = StyleSheet.create(&#123;</span></span><br><span class="line"><span class="regexp">	container: &#123;</span></span><br><span class="line"><span class="regexp">		flex: 1,</span></span><br><span class="line"><span class="regexp">		justifyContent: 'center',</span></span><br><span class="line"><span class="regexp">		alignItems: 'center',</span></span><br><span class="line"><span class="regexp">		backgroundColor: '#F5FCFF',</span></span><br><span class="line"><span class="regexp">	&#125;,</span></span><br><span class="line"><span class="regexp">	dragview: &#123;</span></span><br><span class="line"><span class="regexp">		width: 100,</span></span><br><span class="line"><span class="regexp">		height: 100,</span></span><br><span class="line"><span class="regexp">		backgroundColor:'red',</span></span><br><span class="line"><span class="regexp">		borderRadius:50,</span></span><br><span class="line"><span class="regexp">	&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br></pre></td></tr></table></figure>
<p><img src="http://wx3.sinaimg.cn/large/72ebc0edly1fw81t50apvg208g0f13z6.gif" alt="image"></p>
<h2 id="4、总结"><a href="#4、总结" class="headerlink" title="4、总结"></a>4、总结</h2><p>通过上面的介绍，可以看到 RN 中提供了类似 Native 平台的事件处理机制，所以也可以实现各种的触摸事件处理，甚至也可以实现复杂的手势识别。</p>
<p>另外需要注意，因为 RN 的异步通信和执行机制，前面描述的所有回调函数都是在 JS 线程中，并不是 Native 的 UI 线程，而 Native 平台的 Touch 事件都是在 UI 线程中。所以在 JS 中通过 Touch 或者手势实现动画，可能会延迟的问题。</p>
<p>本文是浅析，介绍比较简单。可能存在诸多错误和不足之处，欢迎交流。</p>
<p>参考：</p>
<ul>
<li><a href="https://reactnative.cn/docs/gesture-responder-system/" target="_blank" rel="noopener">手势响应系统_官方文档</a></li>
<li><a href="https://reactnative.cn/docs/panresponder/" target="_blank" rel="noopener">PanResponder_官方文档</a></li>
<li><a href="https://github.com/jabez128/jabez128.github.io/issues/1" target="_blank" rel="noopener">“指尖上的魔法” – 谈谈React-Native中的手势</a></li>
<li><a href="https://xiaozhuanlan.com/topic/3984105726" target="_blank" rel="noopener">ReactNative 中常见的可触控方法</a></li>
<li><a href="https://www.race604.com/react-native-touch-event/" target="_blank" rel="noopener">React Native 触摸事件处理详解</a></li>
</ul>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">标签</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/ReactNative/">ReactNative</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/11/26/ReactNative/ReactNative集成到原生项目/" data-tooltip="ReactNative集成至现有原生项目" aria-label="上一篇: ReactNative集成至现有原生项目">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/03/23/ReactNative/ReactNative常用命令/" data-tooltip="ReactNative常用命令" aria-label="下一篇: ReactNative常用命令">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    <span class="copyrights">
        Copyrights &copy; 2019 BulldogX. All Rights Reserved.
    </span>
    <span id="busuanzi_container_site_uv">
  您是本站第<span id="busuanzi_value_site_uv"></span>位访问者
</span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2018/11/26/ReactNative/ReactNative集成到原生项目/" data-tooltip="ReactNative集成至现有原生项目" aria-label="上一篇: ReactNative集成至现有原生项目">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/03/23/ReactNative/ReactNative常用命令/" data-tooltip="ReactNative常用命令" aria-label="下一篇: ReactNative常用命令">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Diesen Beitrag teilen">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Facebook">
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Twitter">
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/" title="分享到 Google+">
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a class="post-action-btn btn btn--default" href="#disqus_thread">
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="2">
    <i id="btn-close-shareoptions" class="fa fa-times"></i>
    <ul class="share-options">
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/">
                    <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/">
                    <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                </a>
            </li>
        
            
            
            <li class="share-option">
                <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/">
                    <i class="fab fa-google-plus" aria-hidden="true"></i><span>分享到 Google+</span>
                </a>
            </li>
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/Avatar_icefrog.jpg" alt="作者的图片"/>
        
            <h4 id="about-card-name">BulldogX</h4>
        
            <div id="about-card-bio"><p style='color:red'>国家一级抬杠运动员</p></div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>APP开发工程师</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                ShangHai
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-vufjrm3fmbuttogo1hxuu0w9w0sesk5iyysjuguc2hdhufot9szxg8twijry.min.js"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://yoursite.com/2018/10/11/ReactNative/ReactNative触摸事件/';
                 
                    this.page.identifier = '2018/10/11/ReactNative/ReactNative触摸事件/';
                 
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'bulldogx';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



    </body>
</html>
